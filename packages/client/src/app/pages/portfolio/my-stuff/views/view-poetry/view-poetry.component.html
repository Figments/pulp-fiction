<div class="view-container">
    <div class="view-info">
        <div class="view-coverart">
            <div class="add-coverart" [matTooltip]="'Add Cover Art'" [matTooltipClass]="'offprint-tooltip'">
                <i-feather name="plus"></i-feather>
            </div>
        </div>
        <div class="view-header">
            <div class="view-title">
                <rating-icon [rating]="myPoetry.meta.rating"></rating-icon>
                <h2>{{ myPoetry.title }}</h2>
            </div>
            <div class="view-tags">
                <span class="tag" [matTooltip]="'Poetry'" [matTooltipClass]="'offprint-tooltip'"><i-feather name="feather" class="kind"></i-feather></span>
                <span class="divider">//</span>
                <span class="tag">{{ myPoetry.meta.category }}</span>
                <span class="divider">//</span>
                <span class="tag">{{ myPoetry.meta.genres | separateEntities }}</span>
            </div>
            <div class="view-description">
                <ng-container *ngIf="myPoetry.meta.collection; else singlePoem">
                    <div class="html-description" [innerHtml]="myPoetry.body | safeHtml"></div>
                </ng-container>
                <ng-template #singlePoem>
                    <div class="html-description" [innerHtml]="myPoetry.desc | safeHtml"></div>
                </ng-template>
            </div>
            <div class="view-stats">
                <span class="tag" [matTooltip]="'Created On'" [matTooltipClass]="'offprint-tooltip'"><i-feather name="calendar"></i-feather>{{ myPoetry.createdAt | date:'mediumDate' }}</span>
                <span class="divider">//</span>
                <span class="tag" [matTooltip]="'Comments'" [matTooltipClass]="'offprint-tooltip'"><i-feather name="message-circle"></i-feather>{{ myPoetry.stats.comments | abbreviate }}</span>
                <span class="divider">//</span>
                <span class="tag" [matTooltip]="'Views'" [matTooltipClass]="'offprint-tooltip'"><i-feather name="eye"></i-feather>{{ myPoetry.stats.views | abbreviate }}</span>
                <span class="divider">//</span>
                <span class="tag" [matTooltip]="'Likes'" [matTooltipClass]="'offprint-tooltip'"><i-feather name="thumbs-up"></i-feather>{{ myPoetry.stats.likes | abbreviate }}</span>
                <span class="divider">//</span>
                <span class="tag" [matTooltip]="'Dislikes'" [matTooltipClass]="'offprint-tooltip'"><i-feather name="thumbs-down"></i-feather>{{ myPoetry.stats.dislikes | abbreviate }}</span>
                <span class="divider">//</span>
                <span class="tag" [matTooltip]="'Words'" [matTooltipClass]="'offprint-tooltip'"><i-feather name="pen-tool"></i-feather>{{ myPoetry.stats.words | abbreviate }}</span>
            </div>
        </div>
    </div>
    <ng-container *ngIf="myPoetry.meta.collection; else noSections">
        <div class="view-sections">
            <div class="empty">
                <h3>It's lonely in here...</h3>
                <p>Looks like you haven't added any chapters yet.</p>
                <p>Why not hit the Add Chapter button in the toolbar?</p>
            </div>
        </div>
    </ng-container>
    <ng-template #noSections>
        <div class="view-body">
            <div class="html-description" [innerHtml]="myPoetry.body | safeHtml"></div>
        </div>
    </ng-template>
</div>